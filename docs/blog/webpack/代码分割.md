# 代码分割

## 问题

安装一个 lodash 插件。

```sh
yarn add lodash
```

在 index.js 里边引入

```js
import _ from "lodash";
```

重新打包，发现 app.js 从 2kb 变成了 77.4kb，很明显，我们只是简单的引入了 lodash，并没有写几行代码，但是却把整个 js 包都打包进去了，这不符合我们的期望。

## 拆分 js

src 目录下新建 lodash.js 文件.

```js
import _ from "lodash";
window._ = _;
```

修改 webpack 的 entry 入口：

```js
entry:{
    app:'./src/index.js',
    lodash:'./src/lodash.js'
}
```

index.js

```js
// import _ from "lodash";
```
