# æœç´¢æ’å…¥ä½ç½®

[é¢˜å‹é“¾æ¥ ğŸ”—](https://leetcode.cn/problems/search-insert-position/)

## è§£æ³•

é¢˜å‹è¦æ±‚ æ—¶é—´å¤æ‚åº¦ä¸º O(logN)

### äºŒåˆ†æŸ¥æ‰¾

```js
var searchInsert = function(nums, target) {
  // æ ¡éªŒå…¥å‚
  if (!nums?.length || (typeof target !== "number" && isNaN(target))) return;
  // é•¿åº¦ä¸º1çš„æƒ…å†µ
  if (nums.length === 1) {
    // å°äº æˆ–è€…ç­‰äºçš„æƒ…å†µï¼Œéƒ½è¿”å›0ï¼Œ å¤§äºè¿”å›1
    return Number(target > nums[0]);
  }
  // èŒƒå›´ å·¦ä¾§
  let i = 0;
  // èŒƒå›´ å³ä¾§
  let n = nums.length;
  // åˆå§‹æŸ¥æ‰¾ä½ç½®ï¼Œå°æ•°ç‚¹å‘ä¸Šå–æ•´
  let mid = Math.ceil(n / 2);
  // æ˜¯å¦è·³å‡ºå¾ªç¯
  let a = true;
  // æ ¹æ®aå¼€å§‹å¾ªç¯
  while (a) {
    // å½“å‰å€¼ å°äºæ¯”ç…§å€¼ çš„æ—¶å€™
    if (nums[mid] < target) {
      //åˆ¤æ–­æ˜¯ä¸æ˜¯åˆ°äº†æœ€å³ä¾§æˆ–è€…å³ä¾§å€¼ç›´æ¥å¤§äºæ¯”ç…§å€¼
      if (nums[mid + 1] > target || nums[mid + 1] === undefined) return mid + 1;
      // å‘å³é€’å¢
      i = mid;
      mid = Math.ceil((mid + n) / 2);
    } else if (nums[mid] > target) {
      // åˆ¤æ–­æ˜¯å¦åˆ°äº†æœ€å·¦ä¾§
      if (mid === 0 || nums[mid - 1] < target) return mid;
      n = mid;
      mid = Math.floor((i + mid) / 2);
    } else {
      a = false;
    }
  }
  return mid;
};
```
